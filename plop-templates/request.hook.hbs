{{#isTypescript}}import * as React from 'react';
import { useState, useEffect } from 'react';
{{else}}import React, { useState, useEffect } from 'react';
{{/isTypescript}}
export function fetchData(url, setValue) {
  return fetch(url)
    .then((response) => response.json())
    .then((json) => setValue(json));
}

const useRequest{{pascalCase name}} = (){{#isTypescript}}: any | undefined{{/isTypescript}} => {
  const url{{#isTypescript}}: string{{/isTypescript}} = '{{url}}';
  const [{{camelCase name}}, set{{pascalCase name}}] = useState{{#isTypescript}}<any | undefined>{{/isTypescript}}(undefined);

  useEffect(() => { fetchData(url, setTest) }, [url]);
  
  return {{camelCase name}};
};

export default useRequest{{pascalCase name}};

